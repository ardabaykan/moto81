<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ödeme - Moto 81</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<style>
:root{
    --primary: #0a0a0a;
    --secondary: #212529;
    --light-bg: #f8f9fa;
    --white: #ffffff;
    --gray-text: #6c757d;
    --border-color: #dee2e6;
    --shadow-light: 0 4px 12px rgba(0,0,0,0.05);
}
body{
    font-family: 'Inter', sans-serif;
    background-color: var(--light-bg);
    color: var(--secondary);
    line-height:1.6;
}
.navbar{
    background-color: var(--white);
    border-bottom: 1px solid var(--border-color);
    box-shadow: var(--shadow-light);
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
}
.navbar-brand{
    font-weight: 700;
    font-size: 1.5rem;
    color: var(--primary) !important;
}
.navbar-nav .nav-link{
    color: var(--secondary);
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
}
.navbar-nav .nav-link:hover,
.navbar-nav .nav-link.active {
    background-color: var(--light-bg);
    color: var(--primary) !important;
}
main{
    min-height: calc(100vh - 180px);
    padding-top: 2rem;
    padding-bottom: 2rem;
}
/* Sepet Kutusu */
.checkout-summary-card{
    background-color: var(--white);
    border: 1px solid var(--border-color);
    border-radius: 0.75rem;
    box-shadow: var(--shadow-light);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}
.checkout-summary-card h4{
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.75rem;
}
.checkout-summary .list-group-item{
    background-color: var(--white);
    border: none;
    border-bottom: 1px dashed var(--border-color);
    padding: 0.5rem 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.checkout-summary img{
    width: 40px;
    height: 40px;
    object-fit: contain;
    border-radius: 0.25rem;
    border: 1px solid var(--border-color);
}
.checkout-summary .product-info{
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
}
.checkout-summary .product-info h6{
    font-weight: 500;
    color: var(--secondary);
    margin-bottom: 0.1rem;
    font-size: 0.9rem;
    line-height: 1.2;
}
.checkout-summary .text-muted{
    font-size: 0.8rem;
}
.checkout-summary .item-price{
    font-weight: 600;
    color: var(--primary);
    flex-shrink: 0;
    text-align: right;
    margin-left: auto;
    font-size: 0.9rem;
}
.checkout-total{
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary);
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}
.form-label{font-weight: 500; color: var(--secondary);}
.form-control{border-color: var(--border-color);}
.form-control:focus{border-color: var(--primary); box-shadow: 0 0 0 0.25rem rgba(0,0,0,0.1);}
.btn-primary{background-color: var(--primary); border-color: var(--primary);}
.btn-primary:hover{background-color: var(--secondary); border-color: var(--secondary);}
.btn-outline-primary{color: var(--primary); border-color: var(--primary);}
.btn-outline-primary:hover{background-color: var(--primary); color: var(--white);}
footer{padding: 2.5rem 0; text-align: center; color: var(--gray-text); border-top: 1px solid var(--border-color); background-color: var(--white);}
footer p{margin-bottom:0;}

/* Instagram Profil Kutucuğu Stilleri */
.instagram-profile-widget {
    background-color: var(--white);
    border: 1px solid var(--border-color);
    border-radius: 0.75rem;
    box-shadow: var(--shadow-light);
    padding: 1.5rem;
    text-align: center;
    margin-top: 1.5rem; /* Üstteki elemanlardan boşluk bırakır */
    text-decoration: none; /* Link olduğu için alt çizgiyi kaldırır */
    color: var(--secondary); /* Varsayılan link rengini engeller */
    display: block; /* Tam genişlik kaplaması için */
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
.instagram-profile-widget:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    color: var(--primary); /* Hover'da renk değişimi */
}
.instagram-profile-widget .profile-picture {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 1rem;
    border: 3px solid var(--primary); /* Profil fotoğrafına belirgin çerçeve */
}
.instagram-profile-widget h5 {
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 0.25rem;
}
.instagram-profile-widget p {
    font-size: 0.9rem;
    color: var(--gray-text);
    margin-bottom: 0;
}
.instagram-profile-widget .btn-follow {
    margin-top: 1rem;
    background-color: #E1306C; /* Instagram'ın pembe tonu */
    border-color: #E1306C;
    color: var(--white);
    font-weight: 500;
}
.instagram-profile-widget .btn-follow:hover {
    background-color: #c1205c;
    border-color: #c1205c;
}

/* Footer Sosyal Medya için */
.footer-social-section {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
}
.footer-social-section h5 {
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 1rem;
}
.footer-social-section .social-links a {
    font-size: 1.8rem;
    color: var(--gray-text);
    margin: 0 0.8rem;
    transition: color 0.3s ease;
}
.footer-social-section .social-links a:hover {
    color: var(--primary);
}

</style>
</head>
<body>
<header>
<nav class="navbar navbar-expand-lg">
<div class="container-fluid container">
<a class="navbar-brand" href="index.html">Moto 81</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
<div class="navbar-nav ms-auto">
<a class="nav-link" href="index.html">Ürünlere Geri Dön</a>
</div>
</div>
</div>
</nav>
</header>

<main class="container my-5">
<h1 class="mb-5 text-center" style="font-weight:700;color:var(--primary)">Ödeme İşlemleri</h1>
<div class="row g-5">
<div class="col-md-7 col-lg-8 order-md-1">
<div class="checkout-summary-card">
<h4>Teslimat Bilgileri</h4>
<form class="needs-validation" id="deliveryForm" novalidate>
<div class="row g-3">
<div class="col-sm-6">
<label for="firstName" class="form-label">Adınız</label>
<input type="text" class="form-control" id="firstName" required>
<div class="invalid-feedback">Lütfen geçerli bir ad girin.</div>
</div>
<div class="col-sm-6">
<label for="lastName" class="form-label">Soyadınız</label>
<input type="text" class="form-control" id="lastName" required>
<div class="invalid-feedback">Lütfen geçerli bir soyad girin.</div>
</div>
<div class="col-12">
<label for="email" class="form-label">E-posta <span class="text-muted">(İsteğe Bağlı)</span></label>
<input type="email" class="form-control" id="email" placeholder="siz@example.com">
<div class="invalid-feedback">Lütfen geçerli e-posta girin.</div>
</div>
<div class="col-12">
<label for="phone" class="form-label">Telefon</label>
<input type="tel" class="form-control" id="phone" required>
<div class="invalid-feedback">Geçerli telefon girin.</div>
</div>
<div class="col-12">
<label for="address" class="form-label">Adres</label>
<input type="text" class="form-control" id="address" required>
<div class="invalid-feedback">Adres girin.</div>
</div>
<div class="col-md-5">
<label for="country" class="form-label">Ülke</label>
<select class="form-select" id="country" required>
<option value="">Seçin...</option>
<option>Türkiye</option>
</select>
<div class="invalid-feedback">Ülke seçin.</div>
</div>
<div class="col-md-4">
<label for="city" class="form-label">Şehir</label>
<input type="text" class="form-control" id="city" required>
<div class="invalid-feedback">Şehir girin.</div>
</div>
<div class="col-md-3">
<label for="zip" class="form-label">Posta Kodu</label>
<input type="text" class="form-control" id="zip" required>
<div class="invalid-feedback">Posta kodu girin.</div>
</div>
</div>
<hr class="my-4">
<div class="form-check">
<input type="checkbox" class="form-check-input" id="same-address">
<label class="form-check-label" for="same-address">Teslimat ve fatura adresi aynı</label>
</div>
<div class="form-check">
<input type="checkbox" class="form-check-input" id="save-info">
<label class="form-check-label" for="save-info">Bilgileri kaydet</label>
</div>
<div class="mt-4 alert alert-info">
<strong>Bilgi:</strong> Teslimat bilgilerini doldurduktan sonra ödeme için iletişime geçin.
</div>
</form>
</div>
</div>

<div class="col-md-5 col-lg-4 order-md-2">
<div class="checkout-summary-card">
<h4>Ödeme Nasıl Yapılır?</h4>
<p class="text-muted mb-4">
Ödeme için lütfen aşağıdaki kanallardan iletişime geçin. Teslimat bilgileriniz WhatsApp üzerinden bize otomatik olarak iletilecektir.
</p>
<div class="d-grid gap-2">
<button type="button" id="whatsappPayButton" class="btn btn-success btn-lg mb-3">
<i class="bi bi-whatsapp me-2"></i> WhatsApp'tan Yaz
</button>
</div>
<p class="text-muted text-center mt-3 small">En kısa sürede geri dönüş yapılacaktır.</p>
</div>

<!-- Yeni Instagram Profil Kutucuğu -->
<a href="https://www.instagram.com/ard4_fr" target="_blank" class="instagram-profile-widget">
    <img src="https://via.placeholder.com/80" class="profile-picture" alt="Instagram Profil Fotoğrafı">
    <h5>@ard4_fr</h5>
    <p>En yeni ürünler ve kampanyalar için bizi takip edin!</p>
    <span class="btn btn-sm btn-follow"><i class="bi bi-instagram me-2"></i>Takip Et</span>
</a>
<!-- Instagram Profil Kutucuğu Bitişi -->


<div class="checkout-summary-card mt-4">
<h4 class="d-flex justify-content-between align-items-center mb-3">
<span class="text-primary">Sepetiniz</span>
<span class="badge bg-primary rounded-pill" id="summaryCartCount">0</span>
</h4>
<ul class="list-group mb-3 checkout-summary" id="cartSummaryItems">
<li class="list-group-item text-muted text-center">Sepetiniz boş</li>
</ul>
<div class="d-flex justify-content-between align-items-center checkout-total">
<strong>Toplam</strong>
<span id="summaryCartTotal">0.00 ₺</span>
</div>
</div>
</div>
</div>
</main>

<footer>
<div class="container">
<p class="mb-2">&copy; 2025 Moto 81 - Tüm Hakları Saklıdır</p>

<div class="footer-social-section">
    <h5>Bizi Takip Edin ve İletişime Geçin!</h5>
    <div class="social-links">
        <a href="https://www.instagram.com/ard4_fr" target="_blank" aria-label="Instagram Profilimiz">
            <i class="bi bi-instagram"></i>
        </a>
        <a href="https://wa.me/905312672081" target="_blank" aria-label="WhatsApp Hattımız">
            <i class="bi bi-whatsapp"></i>
        </a>
        <!-- İsterseniz buraya başka sosyal medya linkleri de ekleyebilirsiniz -->
    </div>
</div>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
(function(){'use strict'
var forms=document.querySelectorAll('.needs-validation')
Array.prototype.slice.call(forms).forEach(function(form){
form.addEventListener('submit',function(event){
if(!form.checkValidity()){event.preventDefault(); event.stopPropagation();}
form.classList.add('was-validated');
},false)
})
})();

const CART_KEY='moto81_cart_v1';
let cart=JSON.parse(localStorage.getItem(CART_KEY)||'[]');
const summaryCartCount=document.getElementById('summaryCartCount');
const cartSummaryItems=document.getElementById('cartSummaryItems');
const summaryCartTotal=document.getElementById('summaryCartTotal');
const whatsappPayButton = document.getElementById('whatsappPayButton');
const deliveryForm = document.getElementById('deliveryForm');

function money(num){return Number(num).toLocaleString('tr-TR',{minimumFractionDigits:2,maximumFractionDigits:2})+' ₺';}

function renderCartSummary(){
    summaryCartCount.textContent=cart.reduce((s,i)=>s+i.qty,0);
    cartSummaryItems.innerHTML='';
    if(cart.length===0){
        cartSummaryItems.innerHTML='<li class="list-group-item text-muted text-center">Sepetiniz boş</li>';
        summaryCartTotal.textContent=money(0);
        return;
    }
    cart.forEach(item=>{
        const li=document.createElement('li');
        li.className='list-group-item d-flex justify-content-between lh-sm';
        li.innerHTML=`<img src="${item.img}" alt="${item.name}" class="me-3">
        <div class="product-info"><h6>${item.name}</h6><small class="text-muted">${item.brand} · Adet: ${item.qty}</small></div>
        <span class="item-price">${money(item.price*item.qty)}</span>`;
        cartSummaryItems.appendChild(li);
    });
    summaryCartTotal.textContent=money(cart.reduce((s,i)=>s+i.price*i.qty,0));
}

whatsappPayButton.addEventListener('click', function() {
    if (!deliveryForm.checkValidity()) {
        deliveryForm.classList.add('was-validated');
        alert('Lütfen teslimat bilgilerini eksiksiz ve doğru doldurunuz.');
        return;
    }

    const firstName = document.getElementById('firstName').value;
    const lastName = document.getElementById('lastName').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const address = document.getElementById('address').value;
    const country = document.getElementById('country').value;
    const city = document.getElementById('city').value;
    const zip = document.getElementById('zip').value;

    let cartDetails = '';
    cart.forEach(item => {
        cartDetails += `- ${item.name} (${item.brand}) - Adet: ${item.qty} - Fiyat: ${money(item.price * item.qty)}\n`;
    });
    const totalAmount = summaryCartTotal.textContent;

    const message = `Merhaba Moto 81,\n\nYeni bir sipariş talebim var:\n\n*Teslimat Bilgileri:*\nAdı Soyadı: ${firstName} ${lastName}\nTelefon: ${phone}\nE-posta: ${email ? email : 'Belirtilmedi'}\nAdres: ${address}\nÜlke: ${country}\nŞehir: ${city}\nPosta Kodu: ${zip}\n\n*Sepet İçeriği:*\n${cartDetails}\n*Toplam Tutar: ${totalAmount}*\n\nÖdeme seçenekleri hakkında bilgi almak istiyorum. Teşekkürler.`;

    const whatsappURL = `https://wa.me/905312672081?text=${encodeURIComponent(message)}`;
    window.open(whatsappURL, '_blank');
});


document.addEventListener('DOMContentLoaded',renderCartSummary);
</script>
</body>
</html>
